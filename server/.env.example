# 医学宝典 - 环境变量配置示例
# 复制此文件为 .env.local 并填写实际配置

# ==================== 应用配置 ====================
NODE_ENV=development
PORT=3000

# CORS 跨域配置
# 开发环境: 可以使用逗号分隔的多个域名，例如: "http://localhost:5173,http://localhost:3000"
# 生产环境: 必须指定具体域名，不能使用 "*" 通配符
# 格式: "https://domain1.com,https://domain2.com"
CORS_ORIGIN=http://localhost:5173

# ==================== 数据库配置 ====================
DB_HOST=localhost
DB_PORT=3306
DB_USERNAME=root
DB_PASSWORD=your_password_here
DB_DATABASE=medical_bible

# 数据库连接池配置
# 连接池最大连接数（默认: 20）
# 生产环境建议: 根据并发量和数据库性能调整，通常为 (CPU核心数 * 2) + 磁盘数
DB_POOL_MAX=20
# 连接池最小连接数（默认: 5）
# 建议设置为 DB_POOL_MAX 的 20-30%
DB_POOL_MIN=5
# 获取连接的超时时间，单位: 毫秒（默认: 30000）
DB_POOL_ACQUIRE_TIMEOUT=30000
# 连接空闲超时时间，单位: 毫秒（默认: 300000，即5分钟）
# 空闲超过此时长的连接将被释放
DB_POOL_IDLE_TIMEOUT=300000
# 连接最大生命周期，单位: 毫秒（默认: 1800000，即30分钟）
# 连接超过此时长将被关闭并重建
DB_POOL_MAX_LIFETIME=1800000
# 连接超时时间，单位: 毫秒（默认: 60000，即1分钟）
DB_CONNECTION_TIMEOUT=60000
# 查询超时时间，单位: 毫秒（默认: 60000，即1分钟）
DB_QUERY_TIMEOUT=60000

# ==================== Redis 配置 ====================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ==================== JWT 配置 ====================
JWT_SECRET=your_jwt_secret_here_please_change_it
JWT_EXPIRES_IN=7d
JWT_REFRESH_EXPIRES_IN=30d

# ==================== 加密密钥 ====================
# 用于加密敏感配置（如支付密钥），请使用随机字符串
# 生产环境必须设置此值，否则使用不安全的默认密钥
ENCRYPTION_KEY=your_random_encryption_key_at_least_32_chars

# ==================== 阿里云 OSS 配置 ====================
OSS_ACCESS_KEY_ID=your_access_key_id
OSS_ACCESS_KEY_SECRET=your_access_key_secret
OSS_BUCKET=medical-bible
OSS_REGION=oss-cn-beijing
OSS_ENDPOINT=https://oss-cn-beijing.aliyuncs.com

# ==================== 以下配置已迁移到数据库管理 ====================
# 短信、邮件、支付等配置现在通过后台管理界面配置
# 存储在 system_configs 表中，敏感信息会自动加密
