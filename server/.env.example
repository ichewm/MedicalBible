# åŒ»å­¦å®å…¸ - ç¯å¢ƒå˜é‡é…ç½®ç¤ºä¾‹
# å¤åˆ¶æ­¤æ–‡ä»¶ä¸º .env.local å¹¶å¡«å†™å®é™…é…ç½®
#
# é…ç½®éªŒè¯è¯´æ˜ï¼š
# - åº”ç”¨å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨éªŒè¯æ‰€æœ‰å¿…éœ€çš„ç¯å¢ƒå˜é‡
# - ç¼ºå°‘æˆ–æ— æ•ˆçš„é…ç½®ä¼šå¯¼è‡´åº”ç”¨å¯åŠ¨å¤±è´¥å¹¶æ˜¾ç¤ºè¯¦ç»†é”™è¯¯ä¿¡æ¯
# - æŸ¥çœ‹é”™è¯¯ä¿¡æ¯ä¸­çš„"ğŸ’¡"éƒ¨åˆ†è·å–ä¿®å¤å»ºè®®

# ==================== åº”ç”¨é…ç½® ====================
# è¿è¡Œç¯å¢ƒï¼šdevelopment, production, test
# Required: No
# Default: development
# Validation: å¿…é¡»æ˜¯ development, production, test ä¹‹ä¸€
NODE_ENV=development

# æœåŠ¡ç«¯å£
# Required: No
# Default: 3000
# Validation: 1-65535 ä¹‹é—´çš„æ•´æ•°
PORT=3000

# ==================== CORS è·¨åŸŸé…ç½® ====================
# å…è®¸çš„è·¨åŸŸæºåœ°å€
# Required: No (å¼€å‘ç¯å¢ƒæœ‰é»˜è®¤å€¼)
# Default (dev): http://localhost:5173, http://localhost:3000
# Default (prod): false (æ‹’ç»æ‰€æœ‰è¯·æ±‚)
# Validation: é€—å·åˆ†éš”çš„URLåˆ—è¡¨ï¼Œç”Ÿäº§ç¯å¢ƒä¸èƒ½ä½¿ç”¨ "*"
# æ ¼å¼: "https://domain1.com,https://domain2.com"
# Security: ç”Ÿäº§ç¯å¢ƒä½¿ç”¨ "*" é€šé…ç¬¦ä¼šå¯¼è‡´å¯åŠ¨å¤±è´¥
CORS_ORIGIN=http://localhost:5173

# ==================== æ•°æ®åº“é…ç½® ====================
# æ•°æ®åº“ä¸»æœºåœ°å€
# Required: No
# Default: localhost
DB_HOST=localhost

# æ•°æ®åº“ç«¯å£
# Required: No
# Default: 3306
# Validation: 1-65535 ä¹‹é—´çš„æ•´æ•°
DB_PORT=3306

# æ•°æ®åº“ç”¨æˆ·å
# Required: No
# Default: root
DB_USERNAME=root

# æ•°æ®åº“å¯†ç 
# Required: No
# Default: (ç©ºå­—ç¬¦ä¸²)
DB_PASSWORD=your_password_here

# æ•°æ®åº“åç§°
# Required: No
# Default: medical_bible
DB_DATABASE=medical_bible

# æ•°æ®åº“è¿æ¥æ± é…ç½®
# è¿æ¥æ± æœ€å¤§è¿æ¥æ•°ï¼ˆé»˜è®¤: 20ï¼‰
# ç”Ÿäº§ç¯å¢ƒå»ºè®®: æ ¹æ®å¹¶å‘é‡å’Œæ•°æ®åº“æ€§èƒ½è°ƒæ•´ï¼Œé€šå¸¸ä¸º (CPUæ ¸å¿ƒæ•° * 2) + ç£ç›˜æ•°
DB_POOL_MAX=20
# è¿æ¥æ± æœ€å°è¿æ¥æ•°ï¼ˆé»˜è®¤: 5ï¼‰
# å»ºè®®è®¾ç½®ä¸º DB_POOL_MAX çš„ 20-30%
DB_POOL_MIN=5
# è·å–è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼Œå•ä½: æ¯«ç§’ï¼ˆé»˜è®¤: 30000ï¼‰
DB_POOL_ACQUIRE_TIMEOUT=30000
# è¿æ¥ç©ºé—²è¶…æ—¶æ—¶é—´ï¼Œå•ä½: æ¯«ç§’ï¼ˆé»˜è®¤: 300000ï¼Œå³5åˆ†é’Ÿï¼‰
# ç©ºé—²è¶…è¿‡æ­¤æ—¶é•¿çš„è¿æ¥å°†è¢«é‡Šæ”¾
DB_POOL_IDLE_TIMEOUT=300000
# è¿æ¥æœ€å¤§ç”Ÿå‘½å‘¨æœŸï¼Œå•ä½: æ¯«ç§’ï¼ˆé»˜è®¤: 1800000ï¼Œå³30åˆ†é’Ÿï¼‰
# è¿æ¥è¶…è¿‡æ­¤æ—¶é•¿å°†è¢«å…³é—­å¹¶é‡å»º
DB_POOL_MAX_LIFETIME=1800000
# è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œå•ä½: æ¯«ç§’ï¼ˆé»˜è®¤: 60000ï¼Œå³1åˆ†é’Ÿï¼‰
DB_CONNECTION_TIMEOUT=60000
# æŸ¥è¯¢è¶…æ—¶æ—¶é—´ï¼Œå•ä½: æ¯«ç§’ï¼ˆé»˜è®¤: 60000ï¼Œå³1åˆ†é’Ÿï¼‰
DB_QUERY_TIMEOUT=60000

# ==================== Redis é…ç½® ====================
# Redis ä¸»æœºåœ°å€
# Required: No
# Default: localhost
REDIS_HOST=localhost

# Redis ç«¯å£
# Required: No
# Default: 6379
# Validation: 1-65535 ä¹‹é—´çš„æ•´æ•°
REDIS_PORT=6379

# Redis å¯†ç 
# Required: No
# Default: (æ— å¯†ç )
REDIS_PASSWORD=

# Redis æ•°æ®åº“ç´¢å¼•
# Required: No
# Default: 0
# Validation: 0-15 ä¹‹é—´çš„æ•´æ•°
REDIS_DB=0

# ==================== JWT é…ç½® ====================
# Access Token ç­¾åå¯†é’¥
# Required: Yes (æ‰€æœ‰ç¯å¢ƒ)
# Validation: å­—ç¬¦ä¸²ï¼Œæœ€å°‘32ä¸ªå­—ç¬¦
# Security: å¿…é¡»è®¾ç½®å¼ºéšæœºå¯†é’¥ï¼Œåº”ç”¨å¯åŠ¨æ—¶ä¼šéªŒè¯
JWT_SECRET=your_jwt_secret_here_please_change_it_minimum_32_chars

# Access Token è¿‡æœŸæ—¶é—´
# Required: No
# Default: 15m
# Example: 15m, 1h, 7d
JWT_ACCESS_EXPIRES=15m

# Refresh Token ç­¾åå¯†é’¥
# Required: No (å¦‚æœæœªè®¾ç½®ï¼Œä½¿ç”¨ JWT_SECRET)
# Validation: å­—ç¬¦ä¸²ï¼Œæœ€å°‘32ä¸ªå­—ç¬¦
# Security: å»ºè®®ä½¿ç”¨ä¸åŒäº JWT_SECRET çš„ç‹¬ç«‹å¯†é’¥ä»¥æé«˜å®‰å…¨æ€§
JWT_REFRESH_SECRET=your_jwt_refresh_secret_here_different_from_access_min_32

# Refresh Token è¿‡æœŸæ—¶é—´
# Required: No
# Default: 7d
# Example: 7d, 30d
JWT_REFRESH_EXPIRES=7d

# ==================== å‹ç¼©é…ç½® ====================
# æ˜¯å¦å¯ç”¨ HTTP å“åº”å‹ç¼©
# Required: No
# Default: true
# Validation: "true" æˆ– "false"
COMPRESSION_ENABLED=true

# å‹ç¼©çº§åˆ« (1=æœ€å¿«, 6=å¹³è¡¡, 9=æœ€é«˜å‹ç¼©ç‡)
# Required: No
# Default: 6
# Validation: 1, 6, æˆ– 9
COMPRESSION_LEVEL=6

# å‹ç¼©é˜ˆå€¼ï¼ˆå­—èŠ‚ï¼‰ï¼Œå°äºæ­¤å¤§å°çš„å“åº”ä¸å‹ç¼©
# Required: No
# Default: 1024
# Validation: éè´Ÿæ•´æ•°
COMPRESSION_THRESHOLD=1024

# ==================== é™æµé…ç½® ====================
# æ˜¯å¦å¯ç”¨é™æµ
# Required: No
# Default: true
# Validation: "true" æˆ– "false"
RATE_LIMIT_ENABLED=true

# å…¨å±€é™æµé…ç½®ï¼ˆæ‰€æœ‰è¯·æ±‚çš„æ€»ä½“é™æµï¼‰
# Required: No
# Default: MAX=1000, WINDOW=60
RATE_LIMIT_GLOBAL_MAX=1000
RATE_LIMIT_GLOBAL_WINDOW=60

# è®¤è¯ç«¯ç‚¹é™æµé…ç½®ï¼ˆç™»å½•ã€åˆ·æ–°ä»¤ç‰Œç­‰ï¼‰
# Required: No
# Default: MAX=10, WINDOW=3600
RATE_LIMIT_AUTH_MAX=10
RATE_LIMIT_AUTH_WINDOW=3600

# æ™®é€šç«¯ç‚¹é™æµé…ç½®
# Required: No
# Default: MAX=30, WINDOW=60
RATE_LIMIT_STANDARD_MAX=30
RATE_LIMIT_STANDARD_WINDOW=60

# éªŒè¯ç ç«¯ç‚¹é™æµé…ç½®
# Required: No
# Default: MAX=10, WINDOW=86400
RATE_LIMIT_VERIFICATION_MAX=10
RATE_LIMIT_VERIFICATION_WINDOW=86400

# ä¸¥æ ¼ç«¯ç‚¹é™æµé…ç½®ï¼ˆæ³¨å†Œã€é‡ç½®å¯†ç ç­‰ï¼‰
# Required: No
# Default: MAX=5, WINDOW=60
RATE_LIMIT_STRICT_MAX=5
RATE_LIMIT_STRICT_WINDOW=60

# å®½æ¾ç«¯ç‚¹é™æµé…ç½®
# Required: No
# Default: MAX=100, WINDOW=60
RATE_LIMIT_RELAXED_MAX=100
RATE_LIMIT_RELAXED_WINDOW=60

# é™æµé”®å‰ç¼€
# Required: No
# Default: rate_limit
RATE_LIMIT_KEY_PREFIX=rate_limit

# Redis ä¸å¯ç”¨æ—¶æ˜¯å¦è·³è¿‡é™æµæ£€æŸ¥
# Required: No
# Default: false
# Validation: "true" æˆ– "false"
# Recommendation: ç”Ÿäº§ç¯å¢ƒå»ºè®®è®¾ä¸º false
RATE_LIMIT_SKIP_ON_REDIS_ERROR=false

# ==================== æ—¥å¿—é…ç½® ====================
# æ—¥å¿—çº§åˆ«
# Required: No
# Default: development=debug, production=info
# Validation: fatal, error, warn, info, debug, trace, silent
LOG_LEVEL=info

# æ—¥å¿—ç›®å½•
# Required: No
# Default: logs
LOG_DIR=logs

# æ—¥å¿—æ–‡ä»¶æœ€å¤§å¤§å°
# Required: No
# Default: 100M
# Example: 100M, 1G
LOG_MAX_SIZE=100M

# æ—¥å¿—æ–‡ä»¶ä¿ç•™æ•°é‡
# Required: No
# Default: 10
# Validation: æ­£æ•´æ•°
LOG_MAX_FILES=10

# æ—¥å¿—æ–‡ä»¶ä¿ç•™å¤©æ•°
# Required: No
# Default: 30
# Validation: æ­£æ•´æ•°
LOG_RETENTION_DAYS=30

# ==================== å®‰å…¨å¤´é…ç½® ====================
# å®‰å…¨å¤´ä¸­é—´ä»¶å¼€å…³ï¼ˆé»˜è®¤å¯ç”¨ï¼‰
SECURITY_ENABLED=true

# HSTS (HTTP Strict Transport Security) - å¼ºåˆ¶ HTTPS
# ä»…åœ¨ç”Ÿäº§ç¯å¢ƒå¯ç”¨ï¼ˆéœ€è¦ HTTPSï¼‰
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUB_DOMAINS=true
HSTS_PRELOAD=false

# CSP (Content Security Policy) - å†…å®¹å®‰å…¨ç­–ç•¥
# é˜²æ­¢ XSS æ”»å‡»ï¼Œæ§åˆ¶èµ„æºåŠ è½½æ¥æº
CSP_ENABLED=true
CSP_DEFAULT_SRC='self'
CSP_SCRIPT_SRC='self'
CSP_STYLE_SRC='self','unsafe-inline'
CSP_IMG_SRC='self','data:','https:'
CSP_CONNECT_SRC='self'
CSP_FONT_SRC='self'
CSP_OBJECT_SRC='none'
CSP_MEDIA_SRC='self'
CSP_FRAME_SRC='none'
CSP_WORKER_SRC='self'
CSP_BASE_URI='self'
CSP_FORM_ACTION='self'
CSP_FRAME_ANCESTORS='none'
CSP_UPGRADE_INSECURE=true

# X-Frame-Options (å·²å¼ƒç”¨ï¼Œå»ºè®®ä½¿ç”¨ CSP frame-ancestors)
X_FRAME_OPTIONS=DENY

# Referrer-Policy
REFERRER_POLICY=strict-origin-when-cross-origin

# è·¨åŸŸç­–ç•¥ï¼ˆé»˜è®¤ç¦ç”¨ï¼ŒæŒ‰éœ€å¯ç”¨ï¼‰
CROSS_ORIGIN_EMBEDDER_POLICY=false
CROSS_ORIGIN_RESOURCE_POLICY=false

# ==================== WebSocket é…ç½® ====================
# æ¯ä¸ªç”¨æˆ·æœ€å¤§åŒæ—¶è¿æ¥æ•°
# Required: No
# Default: 3
# Validation: æ­£æ•´æ•°
WS_MAX_CONNECTIONS_PER_USER=3

# è¿æ¥å¿ƒè·³é—´éš”ï¼ˆæ¯«ç§’ï¼‰
# Required: No
# Default: 25000
# Validation: æ­£æ•´æ•°
WS_HEARTBEAT_INTERVAL=25000

# è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
# Required: No
# Default: 60000
# Validation: æ­£æ•´æ•°
WS_CONNECTION_TIMEOUT=60000

# æ¶ˆæ¯é˜Ÿåˆ—è¿‡æœŸæ—¶é—´ï¼ˆç§’ï¼‰
# Required: No
# Default: 604800 (7å¤©)
# Validation: æ­£æ•´æ•°
WS_MESSAGE_QUEUE_TTL=604800

# é‡è¿å»¶è¿Ÿåˆå§‹å€¼ï¼ˆæ¯«ç§’ï¼‰
# Required: No
# Default: 1000
# Validation: æ­£æ•´æ•°
WS_RECONNECT_DELAY_MIN=1000

# é‡è¿å»¶è¿Ÿæœ€å¤§å€¼ï¼ˆæ¯«ç§’ï¼‰
# Required: No
# Default: 30000
# Validation: æ­£æ•´æ•°
WS_RECONNECT_DELAY_MAX=30000

# é‡è¿å°è¯•æ¬¡æ•°é™åˆ¶
# Required: No
# Default: 10
# Validation: æ­£æ•´æ•°
WS_MAX_RECONNECT_ATTEMPTS=10

# ==================== é˜¿é‡Œäº‘ OSS é…ç½® ====================
# OSS è®¿é—®å¯†é’¥ ID
OSS_ACCESS_KEY_ID=your_access_key_id

# OSS è®¿é—®å¯†é’¥ Secret
OSS_ACCESS_KEY_SECRET=your_access_key_secret

# OSS å­˜å‚¨æ¡¶åç§°
OSS_BUCKET=medical-bible

# OSS åŒºåŸŸ
OSS_REGION=oss-cn-beijing

# OSS ç«¯ç‚¹
OSS_ENDPOINT=https://oss-cn-beijing.aliyuncs.com

# ==================== åŠ å¯†å¯†é’¥ ====================
# ç”¨äºåŠ å¯†æ•æ„Ÿé…ç½®ï¼ˆå¦‚æ”¯ä»˜å¯†é’¥ï¼‰
# Required: No (ä½†å¼ºçƒˆå»ºè®®åœ¨ç”Ÿäº§ç¯å¢ƒè®¾ç½®)
# Validation: å­—ç¬¦ä¸²
# Security: ç”Ÿäº§ç¯å¢ƒå¿…é¡»è®¾ç½®æ­¤å€¼ï¼Œå¦åˆ™ä½¿ç”¨ä¸å®‰å…¨çš„é»˜è®¤å¯†é’¥
ENCRYPTION_KEY=your_random_encryption_key_at_least_32_chars

# ==================== Cookie å®‰å…¨é…ç½® ====================
# æ˜¯å¦å¯ç”¨ Cookie å®‰å…¨é…ç½®
# Required: No
# Default: true
# Validation: "true" æˆ– "false"
COOKIE_SECURITY_ENABLED=true

# Cookie Secure å±æ€§ - ä»… HTTPS ä¼ è¾“
# Required: No
# Default (dev): false
# Default (prod): true
# Validation: "true" æˆ– "false"
# Security: ç”Ÿäº§ç¯å¢ƒå¼ºçƒˆå»ºè®®å¯ç”¨
COOKIE_SECURE=false

# Cookie HttpOnly å±æ€§ - é˜²æ­¢ JavaScript è®¿é—®ï¼ˆé˜²æ­¢ XSS æ”»å‡»ï¼‰
# Required: No
# Default: true
# Validation: "true" æˆ– "false"
# Security: å»ºè®®å§‹ç»ˆä¿æŒå¯ç”¨
COOKIE_HTTP_ONLY=true

# Cookie SameSite å±æ€§ - é˜²æ­¢ CSRF æ”»å‡»
# Required: No
# Default (dev): lax
# Default (prod): strict
# Validation: strict, lax, none
# Security: SameSite=none å¿…é¡»ä¸ secure=true åŒæ—¶ä½¿ç”¨
COOKIE_SAME_SITE=lax

# Cookie ä½œç”¨åŸŸåŸŸå
# Required: No
# Default: (å½“å‰åŸŸå)
# Example: .example.com (ç”¨äºå­åŸŸåå…±äº«)
COOKIE_DOMAIN=

# Cookie è·¯å¾„
# Required: No
# Default: /
COOKIE_PATH=/

# Cookie è¿‡æœŸæ—¶é—´ï¼ˆæ¯«ç§’ï¼‰
# Required: No
# Default: (ä¼šè¯ Cookieï¼Œæµè§ˆå™¨å…³é—­æ—¶å¤±æ•ˆ)
# Example: 604800000 (7å¤©)
COOKIE_MAX_AGE=

# Cookie ç­¾åï¼ˆç”¨äºé˜²æ­¢ç¯¡æ”¹ï¼‰
# Required: No
# Default: false
# Validation: "true" æˆ– "false"
COOKIE_SIGNED=false

# æ˜¯å¦è¦†ç›–åŒå Cookie
# Required: No
# Default: true
# Validation: "true" æˆ– "false"
COOKIE_OVERWRITE=true

# ==================== ä»¥ä¸‹é…ç½®å·²è¿ç§»åˆ°æ•°æ®åº“ç®¡ç† ====================
# çŸ­ä¿¡ã€é‚®ä»¶ã€æ”¯ä»˜ç­‰é…ç½®ç°åœ¨é€šè¿‡åå°ç®¡ç†ç•Œé¢é…ç½®
# å­˜å‚¨åœ¨ system_configs è¡¨ä¸­ï¼Œæ•æ„Ÿä¿¡æ¯ä¼šè‡ªåŠ¨åŠ å¯†
